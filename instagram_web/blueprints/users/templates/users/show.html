{% extends "_layout.html" %}
{% block content %}
<div class="container-fluid pt-5">
    <div class="row justify-content-start align-items-start">
        <div class="col-md-3 text-center m-5">
            <div class="profile-photo mb-3">
                {% if user.profile_image_path %}
                <img src="{{ user.profile_image_url }}" />
                {% else %}
                <img src="https://dummyimage.com/200x200/a6a6a6/fff.png&text=Placeholder" />
                {% endif %}
            </div>
            <p><strong>{{user.name}}</strong><br/>
            @{{user.username}}
            </p>
            <div class="row" style="font-size: .9em">
                <div class="col">
                    <strong>{{ photos.count() }}</strong> posts
                </div>
                <div class="col">
                    <strong>0</strong> followers
                </div>
                <div class="col">
                    <strong>0</strong> following
                </div>
            </div>
            {% if user != current_user and user.is_public == True %}
            <div class="m-2 p-2">
                <button class="btn btn-success">Follow</button>
            </div>
            {% elif user != current_user and user.is_public == False %}
            <div class="m-2 p-2">
                <button class="btn btn-success">Request</button>
            </div>
            {% endif %}
        </div>
        <div class="col-md-7 px-1 pt-3 user-photos">
            <ul id="grid">
                {% for photo in photos %}
                <li class="gallery-item" currentSlide="{{ loop.index }}">
                    <img src="{{ photo.url }}" />
                    <p class="caption">{{ photo.caption }}</p>
                    <div class="middle"> 
                        <a href="{{ url_for('transactions.new', image_id=photo.id) }}"><button type="button" class=" btn btn-success donate-button">Donate</button></a>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="lightbox hidden">
            <div class="lightbox-content">
                <div class="lightbox-controls">
                    <a href="#" class="lightbox-close"><button type="button"
                            class="btn btn-secondary">Close</button></a>
                    <a href="#" class="lightbox-prev">&#10094;</a>
                    <a href="#" class="lightbox-next">&#10095;</a>
                </div>
                <div class="lightbox-image">
                    <img src="" />
                    <p class="caption"></p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}